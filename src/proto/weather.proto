syntax = "proto3";
import "google/protobuf/any.proto";

package ohweather;

enum WeatherAPICaller {
    OPENWEATHER = 0;
    NWS = 1;
}

// Called when there is an API Error
message WeatherError {
    bool error = 1;
    string msg = 2;
}
// Type of Icon generated from the URL
message Icon {
    string condition = 1;
    string icon = 2;
    string font = 3;
    string time_of_day = 4;
    optional string url = 5;
    optional string owmcode =6;
}
// Current weather 
message Current {
    string conditions = 1; // Raining, sunny etc
    oneof temperature {
        int32 temp_int = 2;
        float temp_float=3;
    }; // Some Apis can be float or int
    oneof feels_like {
        int32 feels_int = 4;
        float feels_float=5;
    }; 
    int32 wind_speed = 6; 
    int32 perciptation = 7;
    int32 uv = 8;
    optional int32 wind_direction = 9;
    optional Icon weather_icon = 10;
}

message DayForcast {
    int32 todayhigh = 1;
    int32 todaylow = 2;
    int64 sunrise = 3;
    int64 sunset = 4;
    
}
message Weather {
    WeatherAPICaller api = 1;
    repeated float location = 2;
    string loc_name = 3;
    Current current = 4;
    DayForcast dayforcase = 5;
} 
message WeatherResult {
    map<string, string> api = 1;
    string api_json = 2;
    WeatherAPICaller api_caller = 3;
    repeated float lat_long = 4;
    string place = 5;
    map<string, google.protobuf.Any> current = 6;
    map<string, string> weather = 7;
    string conditions = 8;
    float temperature = 9;
    string icon = 10;
    float feels_like = 11;
    map<string, google.protobuf.Any> daily = 12;
    float min_temp = 13;
    float max_temp = 14;
    int32 humidity = 15;
    int32 wind_speed = 16;
    int32 wind_deg = 17;
    int64 current_time = 18;
    int64 sunrise = 19;
    int64 sunset = 20;
    optional int32 precipitation = 21;
    optional int32 uv = 22;
}

